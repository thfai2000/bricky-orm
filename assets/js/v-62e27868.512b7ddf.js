"use strict";(self.webpackChunktaichi_orm=self.webpackChunktaichi_orm||[]).push([[632],{1217:(s,n,e)=>{e.r(n),e.d(n,{data:()=>a});const a={key:"v-62e27868",path:"/guide/concepts/model.html",title:"Model",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"Usage",slug:"usage",children:[{level:3,title:"Define FieldProperty",slug:"define-fieldproperty",children:[]},{level:3,title:"Define ComputeProperty",slug:"define-computeproperty",children:[]},{level:3,title:"Define Relations",slug:"define-relations",children:[]}]}],filePathRelative:"guide/concepts/model.md",git:{updatedTime:1639159614e3,contributors:[{name:"Eddie Tang",email:"thfai2000@gmail.com",commits:4}]}}},4555:(s,n,e)=>{e.r(n),e.d(n,{default:()=>M});var a=e(6252);const t=(0,a._)("h1",{id:"model",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#model","aria-hidden":"true"},"#"),(0,a.Uk)(" Model")],-1),p=(0,a._)("li",null,"It represents a database table.",-1),l=(0,a._)("li",null,[(0,a.Uk)("It used as a parent class for your data models. Your models should "),(0,a._)("code",null,"extends"),(0,a.Uk)(),(0,a._)("code",null,"Model"),(0,a.Uk)(" and be defined with "),(0,a._)("code",null,"Properties"),(0,a.Uk)(".")],-1),o=(0,a.Uk)("All "),c=(0,a._)("code",null,"Models",-1),i=(0,a.Uk)(" have to be registered before using them. Please see "),r=(0,a.Uk)("Register Models"),d=(0,a.uE)('<h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage" aria-hidden="true">#</a> Usage</h2><p>Example:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">MyModel</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span> <span class="token punctuation">{</span>\n    <span class="token comment">//define Property instance here</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="define-fieldproperty" tabindex="-1"><a class="header-anchor" href="#define-fieldproperty" aria-hidden="true">#</a> Define FieldProperty</h3><p>The method <code>.field()</code> of <code>Model</code> instance creates a <code>FieldProperty</code> (represents a table field).</p><p>Example:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">MyModel</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span> <span class="token punctuation">{</span>\n    <span class="token comment">//define a non-nullable varchar type data</span>\n    prop1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">field</span><span class="token punctuation">(</span>StringNotNullType<span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>',7),u={class:"custom-container tip"},m=(0,a._)("p",{class:"custom-container-title"},"TIP",-1),k=(0,a.Uk)("Please read the "),h=(0,a.Uk)("FieldProperty"),b=(0,a.Uk)(" for more details"),f=(0,a.uE)('<h3 id="define-computeproperty" tabindex="-1"><a class="header-anchor" href="#define-computeproperty" aria-hidden="true">#</a> Define ComputeProperty</h3><p>The method <code>.compute()</code> of <code>Model</code> instance creates a <code>ComputeProperty</code> that represent a value calculated by using other <code>FieldProperty</code> or SQL functions.</p><p>Example:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">MyModel</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span> <span class="token punctuation">{</span>\n    prop1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">field</span><span class="token punctuation">(</span>NumberType<span class="token punctuation">)</span>\n    prop2 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">compute</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">parent</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n        <span class="token comment">// add 5 to the number value of prop1</span>\n        <span class="token keyword">return</span> parent<span class="token punctuation">.</span>prop1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="highlight-lines"><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br></div><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>',4),g={class:"custom-container tip"},v=(0,a._)("p",{class:"custom-container-title"},"TIP",-1),y=(0,a.Uk)("Please read the "),_=(0,a.Uk)("FieldProperty"),P=(0,a.Uk)(" for more details"),w=(0,a.uE)('<h3 id="define-relations" tabindex="-1"><a class="header-anchor" href="#define-relations" aria-hidden="true">#</a> Define Relations</h3><p><code>Model</code> class provides various methods to define relations.</p><p>Example:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Shop <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./shop&#39;</span><span class="token punctuation">)</span>\n\n<span class="token keyword">class</span> <span class="token class-name">Product</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span> <span class="token punctuation">{</span>\n    <span class="token comment">//define a belongsto Relation</span>\n    shop <span class="token operator">=</span> Product<span class="token punctuation">.</span><span class="token function">belongsTo</span><span class="token punctuation">(</span>Shop<span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="highlight-lines"><br><br><br><br><div class="highlight-line"> </div><br></div><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Please read the <a href="./relations">Relations</a> for more details</p></div>',5),x={},M=(0,e(3744).Z)(x,[["render",function(s,n){const e=(0,a.up)("RouterLink");return(0,a.wg)(),(0,a.iD)(a.HY,null,[t,(0,a._)("ul",null,[p,l,(0,a._)("li",null,[o,c,i,(0,a.Wm)(e,{to:"/guide/concepts/orm.html#register-models"},{default:(0,a.w5)((()=>[r])),_:1})])]),d,(0,a._)("div",u,[m,(0,a._)("p",null,[k,(0,a.Wm)(e,{to:"/guide/concepts/property.html#fieldproperty"},{default:(0,a.w5)((()=>[h])),_:1}),b])]),f,(0,a._)("div",g,[v,(0,a._)("p",null,[y,(0,a.Wm)(e,{to:"/guide/concepts/property.html#computeproperty"},{default:(0,a.w5)((()=>[_])),_:1}),P])]),w],64)}]])},3744:(s,n)=>{n.Z=(s,n)=>{const e=s.__vccOpts||s;for(const[s,a]of n)e[s]=a;return e}}}]);